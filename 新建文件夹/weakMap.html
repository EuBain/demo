<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const wm = new WeakMap()

        class User {
            constructor(id) {
                this.idProperty = Symbol('id');
                this.setId(id)
            }

            setPrivate(property, value) {
                console.log(this)
                const privateMembers = wm.get(this) || {};
                console.log(privateMembers)
                privateMembers[property] = value;
                wm.set(this, privateMembers)
            }

            getPrivate(property) {
                return wm.get(this)[property];
            }

            setId(id) {
                this.setPrivate(this.idProperty, id)
            }

            getId(id) {
                this.getPrivate(this.idProperty, id)
            }
        }

        const user = new User(123);
        // user.setId(456);
    </script>
</body>
</html>